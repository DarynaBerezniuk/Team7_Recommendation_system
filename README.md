# Комп'ютерний проєкт на тему "рекомендаційна система". Додаток для знайомств

## Головна задумка
Користувач отримує випадкову людину з певним набором інтересів. На основі кожного опитування система підбирає наступну людину. Потім програма виводить топ підходящих по інтересах людей, котрі ще не були опитані. Цикл триває, поки люди в списку не закінчаться. У роботі буде використаний алгоритм PageRank.

## Опис алгоритму 
Алгоритм PageRank у цій системі рекомендацій розпочинається з етапу підготовки даних, де функція reading_file_people(file_name: str) зчитує вхідний файл, щоб створити словник, що містить ім'я людини, її стать та хобі. Далі, функція graph_creation(file_name: str) читає файл у форматі (name_1, name_3) зі спільними інтересами і повертає словник, який являє собою граф вподобань. На основі цієї структури функція get_all_users(likes: dict[str: set[str]]) створює відсортований список усіх унікальних користувачів, присутніх у графі. Ці дані використовуються для побудови основного елементу — матриці переходів. Функція create_transition_matrix(likes: dict[str: list[str]], users: list[str]) будує транспоновану матрицю переходів M, де елемент M[j, i] позначає ймовірність переходу від користувача до користувача j. Сам алгоритм PageRank моделює поведінку «випадкового серфера», який переходить від одного користувача до іншого на основі їхніх зв’язків. Для розрахунку підсумкових рангів, функція calculate_pagerank(...) реалізує ітеративний метод, який багаторазово перемножує вектор рангів на матрицю переходів. Цей процес слугує мірою відносної важливості кожного вузла в графі. Для підвищення релевантності вводиться персоналізація: функція build_personalization_vector(...) створює персоналізований вектор розподілу ймовірностей (вектор телепортації) на основі вподобань поточного користувача. Далі, calculate_personalized_pagerank(...) обчислює персоналізований PageRank за ітераційною формулою. На етапі формування рекомендацій функція build_clan_from_likes знаходить рекомендованих користувачів, які знаходяться на відстані двох кроків від поточного користувача в графі вподобань. Для фільтрації небажаних результатів функція extend_disliked_with_neighbors(...) (також згадана як suggest_people(...)) знаходить усіх, хто напряму пов’язаний з «не вподобаним», і теж позначає їх як небажаних. Фінальний етап — функція generate_recommendation(...), яка формує кінцевий список рекомендацій користувачів, ґрунтуючись на їхньому значенні PageRank та враховуючи всі необхідні фільтри (хто сподобався, не сподобався, вже був показаний, поточний користувач тощо).

## CLI команди
Розрахування PageRank не в залежності від вподобаних людей
```
py cli.py calc
```
Розрахування PageRank в залежності від вподобаної людини
```
py cli.py calc --liked 'name_18'
py cli.py calc -l 'name_18'
```

Розрахування PageRank та записування до файлу
```
py cli.py calc --write
py cli.py calc -w

py cli.py calc -l 'name_18' --write
py cli.py calc -l 'name_18' -w
```

Запуск сайту з візуалізацією
```
py cli.py run --website
py cli.py run -web
```

Запуск модуля з візуалізацією
```
py cli.py run --module
py cli.py run -m
```

## Приклад виводу значень PageRank
![Example1](examples/image.png)


## Розподіл праці
Основний алгоритм — [Софія Садовенко](https://github.com/sadovenkosofia) та [Іван Антоненко](https://github.com/FourShrimp2032);

Тестування і докер — [Тарас Коновал](https://github.com/FourShrimp2032);

CLI та візуалізація — [Дарина Березнюк](https://github.com/DarynaBerezniuk).